# vim: set et ft=sshconfig:
HashKnownHosts no
Compression yes
UserKnownHostsFile ~/.cache/ssh/known_hosts ~/.ssh/known_hosts

PermitLocalCommand yes

ServerAliveInterval 60
ServerAliveCountMax 10
ConnectTimeout 10

SendEnv LANG LC_* TERM_PROGRAM

UseRoaming no

# This cannot be set in a host block...
PreferredAuthentications publickey,keyboard-interactive,password

Host proxy
    HostName 45.56.105.19
    IdentityFile ~/.ssh/id_proxy
    IdentitiesOnly yes
    RequestTTY no
    ServerAliveInterval 30
    ServerAliveCountMax 3
    ControlMaster auto
    ControlPath ~/.ssh/proxy
    ControlPersist no
    ForwardAgent no
    ForwardX11 no
    DynamicForward 8888

Host jord
    Hostname jord.lan
    ForwardAgent yes

Host thor thor.local
    Hostname thor.local
    ForwardAgent yes

Host mac-thor mac-thor.local
    Hostname mac-thor
    ForwardAgent yes

Host mac-thor.home
   Hostname home.hardison.net
   Port 19135
   ControlMaster no
   ForwardAgent yes

Host mac-thor.proxy
   Hostname home.hardison.net
   Port 19135
   ControlPath ~/.ssh/mac-thor.proxy
   ControlPersist yes
   ControlMaster auto
   ForwardAgent yes
   LocalForward 8080 bugzilla.local:80
   LocalForward 2222 bugzilla.local:22

Host bugzilla.home
   ControlPersist no
   ControlMaster no
   ForwardAgent no
   Hostname localhost
   Port 2222


Host bugzilla bugzilla.vm
   Hostname bugzilla.vm
   ControlPersist yes
   ForwardAgent yes
   LogLevel Quiet

Host bmo bmo.vm
   Hostname bmo.vm
   ControlPersist yes
   ForwardAgent yes

Host bmu bmu.vm
   Hostname bmu.vm
   ControlPersist yes
   ForwardAgent yes

Host git-internal.mozilla.org
    User gitolite3

# short aliases, to work around new ssh versions re-reading configuration values.
Host lofn lofn-e sjofn syn git lofn-nix
    HostName %h.hardison.net
    AddressFamily inet

Host lofn.hardison.net lofn-e.hardison.net
    AddressFamily inet

Host git.hardison.net
    User git
    ControlMaster no
    ControlPersist no
    ForwardAgent no
    ForwardX11 no

Host syn.hardison.net
    Port 2223

Host *.hardison.net
    ControlPersist yes
    StrictHostKeyChecking yes
    ForwardAgent yes

Host github.com
    User git
    ForwardAgent no
    ForwardX11 no
    ControlMaster no
    ControlPersist no

Host heroku.com
    User git
    ControlMaster no
    ControlPersist no
    IdentityFile ~/.ssh/id_rsa

Host git.mozilla.org
    ControlPath none
    ControlMaster no
    ControlPersist no
    ForwardAgent no
    ForwardX11 no
    GatewayPorts no

Host *.mozilla.com *.mozilla.org
    User dhardison
    ForwardAgent no
    GatewayPorts no

Host merge-test1.bugs.scl3.mozilla.com
Host bugzillaadm.private.scl3.mozilla.com
    ControlPersist yes

Host lofn.sjofn
    ProxyCommand ssh -4 -W lofn.hardison.net:22 sjofn.hardison.net

Host *.bugs.scl3.mozilla.com 
    ProxyCommand ssh -W %h:%p bugzillaadm.private.scl3.mozilla.com

Host ip-172-31-27-108
    ProxyCommand ssh -W %h:%p bastion.shared.us-west-2.devsvcprod.mozaws.net

Host bastion.shared.us-west-2.devsvcprod.mozaws.net
    ForwardAgent yes

Host bastion.shared.us-west-2.devsvcdev.mozaws.net
    ForwardAgent yes

Host logging.bastion.us-west-2.devsvcprod.mozaws.net
    ForwardAgent yes

Host *
    ControlPath /tmp/%u-%r@%h:%p.ssh
    ControlMaster auto
    ExitOnForwardFailure no
    GatewayPorts yes

    HostKeyAlgorithms ssh-ed25519-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-ed25519,ssh-rsa
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr
