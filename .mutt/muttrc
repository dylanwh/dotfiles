set use_from=yes
set envelope_from=yes
set to_chars=" =TCFL"
set sendmail="/usr/bin/env msmtp --tls-certcheck=off"
set attribution="Spake %n on %d:"
set date_format="!%A, %B %d, %Y at %I:%M%p %Z"
set forward_format="Fwd: %s"
# %?M?<%2M>&%4c?
# This index_format checks whether a thread is collapsed. If it is, and at
# least one message is hidden from view, it will expand to <%2M> â€” the
# number of hidden messages. Otherwise, it expands to %4c, the message size.
# set index_format="%4C%?M?/%-2M&   ? %Z %{%b %d}  %-15.15n (%4c) %?y?(%.20Y) ?%s"
# set index_format="%4C %Z  %-15.15v %?y?(%.20Y) ?%s"
set index_format="%?M?+%4C& %4C? %Z %{%b %d}  %-20.20n  %?y?(%.20Y) ?%s"

set folder_format="%2C %t %f %> %d"

# ignore reply-to for mailing lists.
set ignore_list_reply_to=yes

# Mutt will scan for new mail in all of your mailboxes every mail_check seconds.
# The default is 5 seconds, which will make mutt feel very sluggish if you have more than a
# couple of mailboxes defined. You'll like mutt better if you increase this to at least 60.
set mail_check=80

# scroll line by line.
set menu_scroll

# page down doesn't go to next message.
set pager_stop

# show a mini-pager
# set pager_index_lines=7

# I do not want to move read mail to my read mail directory.
set move=no

# Don't ask me to add messages to existing mailbox.
set confirmappend=no

# Don't ask me if I want to delete something
set delete=yes

# Don't ask me questions when I reply to a message
set fast_reply=yes

# Display titles in the terminal
set xterm_set_titles=yes
set xterm_title="mutt"

# Poop reduction
set certificate_file=~/mail/certificates

set tmpdir="~/tmp"
set reverse_alias=yes
set reverse_name=yes
set hdrs=yes
set strict_threads=no

# always include messages in replies.
set include=yes

# Use the date received rather than the date sent
# to thread messages by subject.
set thread_received
set sort=threads
set sort_aux=date-received

# Use tildes in the internal pager like vim.
set tilde

# Don't show the help menu at the top
set help=no

# Always use reply-to
set reply_to=yes

folder-hook . push "\eV" # By default, collapse all threads
set nocollapse_unread    # Except those with new messages.

ignore *
unhdr_order *
unignore from  From: To: Cc: Bcc: Date: Subject:
hdr_order from From: To: Cc: Bcc: Date: Subject: 

my_hdr X-Uptime: `uptime`

spam "X-Spam-Status: Yes" "spam"

# These bindings make mutt act like vim, a bit.
bind  index zo collapse-thread
bind  index zc collapse-thread
bind  index G  last-entry
bind  index gg first-entry

macro index \cb |urlview\n  "View URLs"
macro pager \cb |urlview\n  "View URLs"

macro index <F2> "c ~/mail/home/inbox\n" "View home"
macro index <F3> "c ~/mail/work/inbox\n" "View work"
macro index A    ";tT~N | ~O\n;WN;t"    "mark all as read"

folder-hook mail/home source ~/.mutt/profile.home
folder-hook mail/work source ~/.mutt/profile.work

source ~/.mutt/t-prot
source "perl $HOME/.mutt/alias.pl|"
source ~/.mutt/gnupg
source ~/.mutt/theme
source ~/.mutt/profile.active

