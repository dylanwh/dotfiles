#!/usr/bin/perl
use strict;
use warnings;
use Net::Netrc;
use Getopt::Long qw( :config gnu_getopt );

my ($machine, $login);

GetOptions(
    'machine|m=s' => \$machine,
    'login|l=s'   => \$login,
);

die "$0: machine identifier is required!\n" unless $machine;

if ($login) {
    my $rec = Net::Netrc->lookup($machine);
    print $rec->password, "\n";
}
else {
    my $rec = Net::Netrc->lookup($machine);
    print $rec->login,"\t",$rec->password, "\n";
}
