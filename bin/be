#!/bin/zsh

integer xmobar_width=94
integer trayer_width=6

if [[ $(hostname -s) == 'njord' ]]; then
	(( trayer_width = trayer_width / 2 ))
fi

case $1 in
	trayer)
		pkill trayer
		sleep .5
		exec trayer \
			--edge top \
			--align right \
			--SetDockType true \
			--SetPartialStrut true \
			--expand true \
			--widthtype percent \
			--width $trayer_width \
			--height 22 \
			--transparent true \
			--tint 0x0000000
	;;
	xcompmgr)
		pkill xcompmgr
		sleep .5
		#exec xcompmgr -cfFC -o 0
		exec xcompmgr -F
	;;
	xmobar)
		pkill xmobar
		ttpp -Dwidth=$xmobar_width < ~/.xmobarrc.tt >! ~/.xmobarrc
		exec xmobar ~/.xmobarrc
	;;
esac
