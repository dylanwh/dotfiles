#!/usr/bin/env perl
use 5.10.1;
use strict;
use warnings;
use Getopt::Long qw(:config gnu_getopt);

my $dir    = '.';
my $remote = 'origin';
my $long;

GetOptions(
    'remove|r=s' => \$remote,
    'dir|D=s'    => \$dir,
    'long|l'     => \$long,
);

chdir $dir unless $dir eq '.';

my $url = qx(git remote get-url $remote);
chomp $url;

my $matches = $url =~ m{
    ^
    (?: (?:[^@]+?@)?github\.com:
      | git://github\.com/)

    ([^/]+) / (?: (.+?) \.git $
                | (.+) $ )
}xs;

if ($matches) {
    say $long ? "$1/$2" : $2;
}




