#!/usr/bin/env perl
use 5.10.1;
use strict;
use warnings;

my $url = shift @ARGV;

my $matches = $url =~ m{
  ^
  (?: (?<protocol> https? | git )://
    | (?: (?<user> [^@]+?)@)? )
  (?<host> [a-zA-Z0-9.-]+)
  [:/]
  (?<path> .+?)
  (?:\.git)?
  $
}xs or die "cannot understand $url\n";

say "$+{host}/$+{path}";
