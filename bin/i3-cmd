#!/bin/zsh

function die {
    echo "$@" >&2
    exit 10
}

cmd=$1; shift

if [[ -z $cmd ]]; then
    die "no command"
fi

success=$(i3-msg $cmd "$@" 2>/dev/null | jshon -e 0 -e success)

case $success in
    true)  return 0 ;; 
    false) return 1 ;;
    *)     return 2 ;;
esac
